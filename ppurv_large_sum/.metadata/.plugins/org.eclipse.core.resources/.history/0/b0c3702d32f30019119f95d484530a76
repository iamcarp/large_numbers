/*
 * main.c
 *
 *  Created on: Oct 18, 2019
 *      Author: Luka Karan RA50/2016
 */


#include "sum.h"

#include<ctype.h>
/*
 * main.c
 *
 *  Created on: Oct 18, 2019
 *      Author: Luka Karan RA50/2016
 */


#include "sum.h"

#include "inttypes.h"

int chrtoint(char symbol)
{
	int_least8_t i;
	for (i = 48; i<=57; i++)
	{
		if (toascii(i)==symbol)
			{
			return i-48;
			}
	}
	return 0;
}

//reverse
char *strrev(char *str)
{
      char *p1, *p2;

      if (! str || ! *str)
            return str;
      for (p1 = str, p2 = str + strlen(str) - 1; p2 > p1; ++p1, --p2)
      {
            *p1 ^= *p2;
            *p2 ^= *p1;
            *p1 ^= *p2;
      }
      return str;
}

void main(){
	char n1[80];
	char n2[80];
	int rs[80];
	int c1, c2;

	int i,j,m, cmax, sum;

	printf("Enter First Number:");
	scanf("%s", &n1);
	printf("\nEnter Second Number:");
	scanf("%s", &n2);

	c1 = strlen(n1);
	c2 = strlen(n2);

	strrev(n1);
	strrev(n2);

	cmax = c1;
	if(c1<c2)
	{
		cmax = c2;
	}

	m=0;
	for(i=0; i< cmax; i++)
	{
		if(c1==c2 || (i < c1 && i < c2))
		{
			sum = m+chrtoint(n1[i])+chrtoint(n2[i]);
		}
		else if(i >=c1)
		{
			sum = m+chrtoint(n2[i]);
		}
		else if(i >=c2)
		{
			sum = m+chrtoint(n1[i]);
		}

		rs[i] = sum%10;
		m = sum/10;
	}

	if(m)
	{
		rs[i]=m;
		i++;
	}

	printf("\nResult: ");
	for(j=0; j < i; j++)
	{
		printf("%d", rs[i-j-1]);
	}

}
